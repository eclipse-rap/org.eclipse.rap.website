<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>RAP - Developer's Guide</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="keywords" content="rap, rwt, osgi, eclipse, equinox, eclipse rap, ajax" />
  <meta name="google-site-verification" content="kMX1SI1MRFpyzEPh4yv_TXRUpKLmBVvENEfQtjdZuwI" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" type="text/css" href="../_theme/reset.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="../_theme/layout.css" media="screen" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="../_theme/index-search-box.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="../_theme/devguide.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="../_theme/print.css" media="print" />
  <link rel="stylesheet" type="text/css" href="../_theme/prettify/prettify.css" />
  <!--[if lt IE 8]><link rel="stylesheet" type="text/css" href="/rap/rap-layout-fixes-ie.css"/><![endif]-->
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="../script.js"></script>
  <script type="text/javascript" src="../_theme/prettify/prettify.js"></script>
  <script type="text/javascript" src="../_theme/prettify/lang-css.js"></script>
  <style type="text/css">
    input::-ms-clear, input::-ms-reveal {
      display: none;
    }
  </style>
</head>
<body>

  <div id="info-box">
    <div>
      <img src="../images/twitter.png" alt="Twitter Logo" />
      <a href="https://twitter.com/EclipseRAP/">Follow us on Twitter</a>
    </div>
    <div>
      <img src="../images/project-stats.png" alt="Project Information" />
      <a href="http://projects.eclipse.org/projects/rt.rap">About this project</a>
    </div>
  </div>

  <div id="header-bar">

<div id="header">

  <div  id="rap-logo-deco"></div>
  <a href="../index.html"><span id="rap-logo"></span></a>

  <div id="rap-search-box">
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
      <symbol xmlns="http://www.w3.org/2000/svg" id="sbx-icon-search-1" viewBox="0 0 40 40">
        <path d="M27.6 29.15c-1.99 1.643-4.543 2.63-7.326 2.63-6.355 0-11.507-5.15-11.507-11.506 0-6.355 5.152-11.507 11.507-11.507 6.355 0 11.507 5.152 11.507 11.507 0 2.783-.987 5.335-2.63 7.325l7.392 7.392c.43.43.436 1.124.005 1.555-.428.428-1.122.428-1.555-.005L27.6 29.15zm-7.326.44c5.145 0 9.315-4.17 9.315-9.316 0-5.145-4.17-9.315-9.316-9.315-5.145 0-9.315 4.17-9.315 9.314 0 5.145 4.17 9.315 9.314 9.315zm16.813.81C38.982 27.292 40 23.72 40 20 40 8.954 31.046 0 20 0S0 8.954 0 20s8.954 20 20 20c3.76 0 7.37-1.04 10.5-2.974.514-.32.674-.994.355-1.51-.318-.514-.993-.673-1.508-.355C26.56 36.884 23.35 37.81 20 37.81c-9.835 0-17.808-7.973-17.808-17.808S10.165 2.192 20 2.192 37.808 10.165 37.808 20c0 3.314-.905 6.492-2.593 9.26-.315.515-.15 1.19.365 1.505.517.315 1.19.152 1.507-.365z"
        fill-rule="evenodd" />
      </symbol>
      <symbol xmlns="http://www.w3.org/2000/svg" id="sbx-icon-clear-3" viewBox="0 0 20 20">
        <path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z" fill-rule="evenodd" />
      </symbol>
    </svg>
    <form id="sbx-form" action="navigation.html#" novalidate="novalidate" class="searchbox sbx-custom">
      <div role="search" class="sbx-custom__wrapper">
        <input id="search-query" type="search" name="search" placeholder="Search..." autocomplete="off" required="required" class="sbx-custom__input">
        <button type="submit" title="Submit your search query." class="sbx-custom__submit">
          <svg role="img" aria-label="Search">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sbx-icon-search-1"></use>
          </svg>
        </button>
        <button type="button" id="sbx-remove" title="Clear the search query." class="sbx-custom__reset">
          <svg role="img" aria-label="Reset">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sbx-icon-clear-3"></use>
          </svg>
        </button>
      </div>
    </form>
  </div>

  <div id="navigation">
    <ul>

<li ><a href="../demos/index.html">Demos</a></li><li ><a href="../downloads/index.html">Download</a></li><li class="active"><a href="../documentation/index.html">Documentation</a></li><li ><a href="../getting-involved/index.html">Community</a></li>
    </ul>
    <div class="stop"></div>
  </div>
</div>

<div id="nav-bar">
  <div id="nav-container">
    <ul  id="nav-home">
      <li>
        <a href="../index.html">&lt; Home</a>
      </li>
    </ul>
    <ul id="nav">

<li><a  href="../documentation/index.html">Overview</a></li><li><a  class="active" href="index.html">Developer's Guide</a></li><li><a  href="../noteworthy/index.html">New and Noteworthy</a></li><li><a  href="../articles/index.html">Articles</a></li>
    </ul>
    <div class="stop"></div>
  </div>
</div>
  </div>
  <div id="novaWrapper">
    <div id="novaContent">

<div id="midcolumn" class="dev-guide-content">


  
  <h1>Browser Navigation &amp; History</h1>
    <p>
      As a RAP application usually runs in a browser, the user will expect that it behaves and
      navigates like a traditional website to a certain degree. It is easy to implement the layout
      of typical websites and web applications using RAP widgets (like
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/swt/widgets/TabFolder.html">TabFolder</a></em>,
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/swt/widgets/List.html">List</a></em>,
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/swt/widgets/Menu.html">Menu</a></em>,
      etc.).
      However, some concepts, like history support, require special API.
    </p>
    <h2 id="links">Links</h2>
    <p>There are two kind of links supported in RAP.</p>
    <p>
      First, there is the
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/swt/widgets/Link.html">Link</a></em>
      widget as implemented by SWT. This widget
      can display text that looks like it contains a link, but actually behaves like a
      <a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/swt/widgets/Button.html">push button</a>.
      It's convenient to use this Widget to link between different places within your application.
      Combined with the URL-Launcher (<a href="navigation.html#launcher">see below</a>),
      it can also be used like an actual link to open new websites.
    </p>
    <p>
      Second, it is possible to integrate
      <a href="markup.html#link"><q>real</q> links</a>
      in the application using the
      <a href="markup.html#markup">markup feature</a>.
      Clicking such a link will (by default) not trigger any events, but open the given URL
      in the same window. The user can also open the URL in a new browser tab or window (e.g. using
      the links native context menu), or the application can force the URL to be opened in a new
      tab/window by setting the target attribute to <code>"_blank"</code>.
    </p>
    <pre class="lang-java">
List list = new List( parent, style );
list.setData( RWT.MARKUP_ENABLED, Boolean.TRUE );
list.add( "This link opens &lt;a href='http://eclipse.org/rap' target='_blank'&gt;a new tab&lt;/a&gt;" );</pre>
    <p id="selection-link">
      When embedding a link in <em>List</em>, <em>Tree</em>, <em>Table</em> or <em>Grid</em> widgets, it may also
      be used to issue selection events instead of navigating to an URL. To do so, the target attribute
      must be set to <code>"_rwt"</code>. If the link is clicked now, a <em>Selection</em> event will be fired. This
      event is different from ordinary <em>Selection</em> events in that the <em>detail</em>
      field equals <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/RWT.html#HYPERLINK">RWT.HYPERLINK</a></em> and the <em>text</em> field contains the value
      of the links "href" attribute. If no "href" attribute is set, the value is the text
      between "<code>&lt;a&gt;</code>" and "<code>&lt;/a&gt;</code>". Note that some browser
      (specifically, Internet Explorer) may re-write the "href" value to an absolute URL
      if no protocol was given. One possible workaround is to start the "href" value with a "#" and
      cut of anything before that:
    </p>
    <pre class="lang-java">
List list = new List( parent, style );
list.setData( RWT.MARKUP_ENABLED, Boolean.TRUE );
list.add( "Click &lt;a href='#myvalue' target='_rwt'&gt;here&lt;/a&gt;" );
list.addListener( SWT.Selection, new Listener() {
  public void handleEvent( Event event ) {
    if( event.detail == RWT.HYPERLINK &amp;&amp; event.text.contains( "#" ) ) {
      log( "Clicked link \"" + event.text.split( "#" )[ 1 ] + "\"" );
    }
  }
} );</pre>
    <h2 id="launcher">Open URLs in an external browser/application</h2>
    <p>
      It is possible in RAP to programmatically open any URL without leaving the current
      page/session. This is done using the
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/UrlLauncher.html">UrlLauncher</a></em>
      <a href="client.html#service">client service</a>. Any
      URL starting with <q><code>http</code></q> (or <q><code>https</code></q>) will open in a
      new browser tab, window, or pop-up, unless it is blocked by a pop-up blocker.
      (The browser will usually ask the user if he
      wants to allow the site to open new windows in general, just in this case, or never.)
      Other protocols like <q><code>mailto</code></q> or <q><code>tel</code></q> will
      <i>not</i> create a browser window, but might trigger
      another application to open, if one is installed. Examples:
    </p>
    <pre class="lang-java">
UrlLauncher launcher = RWT.getClient().getService( UrlLauncher.class );
launcher.openURL( "https://www.eclipse.org/" );
launcher.openURL( RWT.getResourceManager().getLocation( "my-doc.pdf" ) );
launcher.openURL(   "mailto:someone@nowhere.org?cc=other@nowhere.org"
                  + "&amp;subject=Hello%3F&amp;body=RAP%20is%20awesome!" );
launcher.openURL( "tel:555-123456" );</pre>

    <h2 id="exitconfirmation">Exit Confirmation</h2>
    <p>
      The
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/ExitConfirmation.html">ExitConfirmation</a></em>
      service can configure a message that can be shown whenever
      the user tries to close the browser window/tab, or navigates to another URL. Example:
    </p>
    <pre class="lang-java">
ExitConfirmation service = RWT.getClient().getService( ExitConfirmation.class );
service.setMessage( "Do you really wanna leave the party?" );</pre>
    <p><b>Result:</b></p>
    <p><img style="padding-top:5px" src="http://download.eclipse.org/rt/rap/doc/4.1/guide/articles/./../images/exitConfirmation.png" alt="Exit confirmation dialog" /></p>
    <p>
      <strong>NOTE:</strong>
      Some browser may show additional text in the confirmation dialog, or replace
      the text completely for security reasons.
    </p>

    <h2 id="deeplinks">Deep Links</h2>
    <p>
      Deep links, in traditional websites, are links that point not just to a document,
      but to a specific position within the document. This is done by adding a <q>fragment id</q>
      to the URL, separated from the path by a <q>#</q>.
      For example "<code>http://eclipse.org/#midcolumn</code>".
    </p>
    <p>
      RAP provides the
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/BrowserNavigation.html">BrowserNavigation</a></em>
      service, which allows the application to
      access this fragment.
      After the URL has been entered (or changed - see <a id="listener" href="navigation.html#history">history support</a>),
      a
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/BrowserNavigationListener.html">BrowserNavigationListener</a></em>
      is called, and the fragment is available on the
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/BrowserNavigationEvent.html">BrowserNavigationEvent</a></em>
      via the
      <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/BrowserNavigationEvent.html#getState--">getState()</a></em>.
      The string can then be used to decide where to navigate in your application.
      If, for example, you are using a TabFolder as your main navigation element,
      a simple but complete implementation could look like this:
    </p>
    <pre class="lang-java">
final Map&lt;String, TabItem&gt; navigation = new HashMap&lt;String, TabItem&gt;();
navigation.put( "employees", employeeTab );
navigation.put( "companies", companiesTab ); // etc...
BrowserNavigation service = RWT.getClient().getService( BrowserNavigation.class );
service.addBrowserNavigationListener( new BrowserNavigationListener() {
  @Override
  public void navigated( BrowserNavigationEvent event ) {
    TabItem item = navigation.get( event.getState() );
    if( item != null ) {
      item.getParent().setSelection( item );
    }
  }
} );</pre>
  <p>
   The application could then be opened directly at a specific tab using the URL
   <q><code>http://myRapApp/#companies</code></q>.<br />
   You could also encode a path within the fragment, pointing to a specific
   unit of data:
  </p>
  <pre class="lang-java">
public void navigated( BrowserNavigationEvent event ) {
  String state = event.getState();
  if( state.startsWith( "employees/" ) ) {
    showEmpoyee( state.substring( 10 ) );
  }
}</pre>
  <p>
    Opening <q><code>http://myRapApp/#employees/john.doe</code></q> could then open the application
    already displaying the entry or search for <q>John Doe</q>.
  </p><p>
    Combined with <a href="navigation.html#links">"real" links</a> or the
    <em><a href="navigation.html#launcher">URLLauncher</a></em>, deep links
    provide additional ways to navigate within the session, or open new (parallel) UI sessions in
    additional browser tabs.
  </p>
  <h2 id="history">Browser History</h2>
  <p>
    Support for browser history means that the user is able to go back to a previous state of the
    application using the browsers <q>back</q> button, without leaving the RAP application itself.
    He/She can also use the browsers history dialog to jump multiple entries back or forwards.
  </p>
  <p>
    If a <em>BrowserNavigationListener</em> is already implemented
    (<a href="navigation.html#deeplinks">see above</a>),
    all that is left to
    do is to add new entries to the history. To do so, simply call
    <em style="white-space:nowrap;"><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/rap/rwt/client/service/BrowserNavigation.html#pushState-java.lang.String-java.lang.String-">pushState( state, title )</a></em>
    whenever your application enters a new state that
    should appear in the history. The <q>state</q> string will then be given in the
    <em>BrowserNavigationEvent</em>
    when the user presses the <q>back</q> button. The title string
    is used for the title of the document and will appear in the browsers history tab/dialog.
  </p>
  <p>
    <strong>NOTE:</strong> Some browser have issues supporting history and the
    <em><a href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/org/eclipse/swt/browser/Browser.html">Browser</a></em>
    widget in the same application. The back button may sometimes go back in
    the history of the browser widget and in the history of the RAP application simultaneously, or
    not at all. Also, in some browser the current URL will change when navigating, but not in all.
  </p>


</div>

<div id="rightcolumn">
  <a style = "color:inherit;text-decoration:none;"
    href="index.html">
  <h2 style="padding-bottom:12px;">Contents / RAP 4.1</h2></a>

  <ul id="dev-guide-nav"><li class="category-group"><span><span class="arrow"></span>Getting Started</span><ul><li><a href="setup-ide.html">Setting up the Eclipse IDE</a></li><li><a href="target-install.html">Installing a RAP Target</a></li><li><a href="hello-world.html">Creating a Hello World with RAP</a></li><li><a href="launcher.html">Launching RAP Applications from the IDE</a></li><li><a href="examples.html">RAP Examples</a></li></ul></li><li class="category-group"><span><span class="arrow"></span>RAP Widget Toolkit</span><ul><li><a href="rwt.html">Differences between RWT and SWT</a></li><li><a href="client.html">The RAP Client</a></li><li><a href="key-and-mouse-events.html">Key and Mouse Event Handling</a></li><li><a href="tree-table.html">Tree, Table and the Nebula Grid</a></li><li><a href="markup.html">Fonts and Markup in RAP</a></li><li><a href="web-embedding.html">Embedding Web Components</a></li><li><a class="active" href="navigation.html">Browser Navigation and History</a></li><li><a href="file-upload.html">File Upload</a></li><li><a href="theming.html">RWT Theming</a></li><li><a href="custom-widget.html">Custom Widgets</a></li><li><a href="scripting.html">Scripting</a></li><li><a href="resources.html">Static Resources and Downloads</a></li></ul></li><li class="category-group"><span><span class="arrow"></span>Scopes and Threads in RAP</span><ul><li><a href="scopes.html">Scopes in RAP</a></li><li><a href="singletons.html">Singletons and Static Fields</a></li><li><a href="data-stores.html">Storing Data</a></li><li><a href="threads.html">Threads in RAP</a></li><li><a href="server-push.html">Server Push</a></li></ul></li><li class="category-group"><span><span class="arrow"></span>Building Applications</span><ul><li><a href="application-setup.html">Choosing an Application Setup</a></li><li><a href="application-configuration.html">Application Configuration</a></li><li><a href="branding.html">Branding</a></li><li><a href="rwt-standalone.html">RWT Standalone</a></li><li><a href="deployment.html">WAR Deployment</a></li><li><a href="look-and-feel.html">Look and Feel</a></li><li><a href="internationalization.html">Internationalization</a></li><li><a href="related-technologies.html">Related Technologies</a></li></ul></li><li class="category-group"><span><span class="arrow"></span>Reference</span><ul><li><a style="padding-right:13px;background:url(../images/external.png) center right no-repeat" href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/api/overview-summary.html">API Reference</a></li><li><a style="padding-right:13px;background:url(../images/external.png) center right no-repeat" href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/extension-points/index.html">RAP Extension Points Reference</a></li><li><a style="padding-right:13px;background:url(../images/external.png) center right no-repeat" href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/theming/index.html">RAP Theming Reference</a></li><li><a style="padding-right:13px;background:url(../images/external.png) center right no-repeat" href="http://download.eclipse.org/rt/rap/doc/4.1/guide/reference/jsdoc/index.html">RAP WebClient API Reference</a></li></ul></li></ul></div>

<script type="text/javascript">
  $( 'ul#dev-guide-nav li.category-group ul' ).each( function() {
    if( !$( this ).find( '.active' ).attr( 'class' ) ) {
      $( this ).hide();
      $( this ).addClass( 'hidden' );
    } else {
      $( this ).siblings( 'span' ).children( 'span' ).addClass( 'opened' );
    }
  } );
  $( 'ul#dev-guide-nav li.category-group span' ).click( function() {
    var navList = $( this ).siblings( 'ul' );
    var arrow = $( this ).children( 'span' );
    if( navList.hasClass( 'hidden' ) ) {
      navList.slideDown();
      navList.removeClass( 'hidden' );
      arrow.addClass( 'opened' );
    } else {
      navList.slideUp();
      navList.addClass( 'hidden' );
      arrow.removeClass( 'opened' );
    }
  } );
</script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-910670-2']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-17128428-1']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>      <div class="stop"></div>
      <div id="footer">
        <ul id="footernav">
          <li><a href="https://www.eclipse.org/">Eclipse</a></li>
          <li><a href="https://www.eclipse.org/legal/privacy/">Privacy Policy</a></li>
          <li><a href="https://www.eclipse.org/legal/terms-of-use/">Terms of Use</a></li>
          <li><a href="https://www.eclipse.org/legal/copyright/">Copyright Agent</a></li>
          <li><a href="https://www.eclipse.org/legal/">Legal</a></li>
          <li><a href="https://www.eclipse.org/org/foundation/contact.php">Contact Us</a></li>
        </ul>
        <a href="https://www.eclipse.org/"><img src="../images/logos/eclipse.png" alt="Eclipse logo" /></a>
        <span id="copyright">Copyright &copy; 2025 The Eclipse Foundation. All Rights Reserved.</span>
      </div>

    </div>
  </div>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: '3e9946bc18fa7d26dc03c883df41b9de',
      indexName: 'eclipse_rap',
      inputSelector: '#search-query',
      algoliaOptions: {
        hitsPerPage: 9,
      }
    });
    $( function() {
      // prettify rewrites <pre> and <code> elements with class="prettyprint"
      // optionally, the language can be selected using a "lang-" prefixed class, e.g. lang-java
      $( 'pre[class|="lang"],code[class|="lang"]' ).addClass( "prettyprint" );
      $( "pre[lang],code[lang]" ).addClass( function() {
        var lang = $( this ).attr( "lang" );
        return "prettyprint" + ( lang ? " lang-" + lang : "" );
      } );
      prettyPrint();
    } );
  </script>
</body>
</html>
